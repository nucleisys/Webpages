### **6.2.8. ECLIC中断源的电平或边沿属性（Level or Edge-Triggered）**

如图 6-2所示，ECLIC的每个中断源均可以设置电平触发或者边沿触发的属性（通过寄存器clicintattr[i]的trig域），其要点如下：

- 当clicintattr[i].trig[0] == 0时，设置该中断属性为电平触发的中断：
  - 如果该中断源被配置为电平触发，中断源的IP位会实时反映该中断源的电平值。
  - 如果该中断源被配置为电平触发，由于中断源的IP位实时反映该中断源的电平值，所以软件对该中断IP位的写操作会被忽略，即，软件无法通过写操作设置或者清除IP位的值。如果软件需要清除中断，只能通过清除中断的最终源头的方式进行。
- 当clicintattr[i].trig[0] == 1和clicintattr[i].trig[1] == 0时，设置该中断属性为上升沿触发的中断：
  - 如果该中断源被配置为上升沿触发，则ECLIC检测到该中断源的上升沿时，该中断源在ECLIC中被触发，该中断源的IP位被置高。
  - 如果该中断源被配置为上升沿触发，软件对该中断IP位的写操作会生效，即，软件可以通过写操作设置或者清除IP位的值。
  - 注意：对于上升沿触发的中断而言，为了能够提高中断处理的效率，当该中断被响应，处理器内核跳入中断服务程序（Interrupt Service Routines，ISR）之时，ECLIC的硬件会自动清除该中断的IP位，从而无需软件在ISR内部对该中断的IP位进行清除。
- 当clicintattr[i].trig[0] == 1和clicintattr[i].trig[1] == 1时，设置该中断属性为下降沿触发的中断：
  - 如果该中断源被配置为下降沿触发，则ECLIC检测到该中断源的下降沿时，该中断源在ECLIC中被触发，该中断源的IP位被置高。
  - 如果该中断源被配置为下降沿触发，软件对该中断IP位的写操作会生效，即，软件可以通过写操作设置或者清除IP位的值。
  - 注意：对于下降沿触发的中断而言，为了能够提高中断处理的效率，当该中断被响应，处理器内核跳入中断服务程序（Interrupt Service Routines，ISR）之时，ECLIC的硬件会自动清除该中断的IP位，从而无需软件在ISR内部对该中断的IP位进行清除。

