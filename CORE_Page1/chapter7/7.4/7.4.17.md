### **7.4.17. mcause**

mcause寄存器，用于保存进入NMI、异常和中断之前的出错原因，以便于对Trap原因进行诊断和调试。

mcause寄存器各地址位域如表 7-6所示。



​                                                    **<center>表 7-6 mcause寄存器各控制位</center>**

| **域**        | **位** | **描述**                                                     |
| ------------- | ------ | ------------------------------------------------------------ |
| **INTERRUPT** | 31     | 表示当前Trap种类：                                                                                                0：异常或者NMI                                                                                                      1：中断 |
| **MINHV**     | 30     | 表示处理器正在读取中断向量表                                 |
| **MPP**       | 29:28  | 进入中断之前的特权模式，与mstatus.mpp相同                    |
| **MPIE**      | 27     | 进入中断之前的中断使能，与mstatus.mpie相同                   |
| **Reserved**  | 26:24  | 未使用的域为常数0                                            |
| **MPIL**      | 23:16  | 前一个中断级别                                               |
| **Reserved**  | 15:12  | 未使用的域为常数0                                            |
| **EXCCODE**   | 11:0   | 异常/中断编码                                                |



注意：

- mstatus寄存器的MPIE和MPP域与mcause的MPIE和MPP域为镜像关系。
- NMI的mcause.EXCCODE可能为0x1或者0xfff，实际值由mmisc_ctl控制，详情请参考7.5.4节。