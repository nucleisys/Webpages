### **7.4.24. mcycle和mcycleh**

RISC-V架构定义了一个64位宽的时钟周期计数器，用于反映处理器执行了多少个时钟周期。只要处理器处于执行状态时，此计数器便会不断自增计数。

mcycle寄存器反映了该计数器低32位的值，mcycleh寄存器反映了该计数器高32位的值。

mcycle和mcycleh寄存器可以用于衡量处理器的性能，且具备可读可写属性，因此软件可以通过CSR指令改写mcycle和mcycleh寄存器中的值。

由于考虑到此计数器计数会消耗某些动态功耗，因此在Bumblebee内核的实现中，在自定义CSR寄存器mcountinhibit中额外增加了一位控制域，软件可以配置此控制域将mcycle和mcycleh对应的计数器停止计数，从而在不需要衡量性能之时停止计数器以达到省电的作用。请参见7.5.1节了解更多mcountinhibit寄存器信息。

注意：如果在调试模式下时，此计数器并不会计数，只有在正常功能模式下，计数器才会进行计数。

