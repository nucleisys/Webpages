### **3.4.4. 更新CSR寄存器mtval**

Bumblebee内核在进入异常时，硬件将自动更新CSR寄存器mtval（Machine Trap Value Register ），以反映引起当前异常的存储器访问地址或者指令编码：

- 如果是由存储器访问造成的异常，譬如遭遇硬件断点、取指令、存储器读写造成的异常，则将存储器访问的地址更新到mtval寄存器中。
- 如果是由非法指令造成的异常，则将该指令的指令编码更新到mtval寄存器中。

