### **6.2.12. ECLIC中断的仲裁机制**

如图 6-2所示，ECLIC对其所有中断源进行仲裁选择的原则如下：

- 只有满足下列所有条件的中断源才能参与仲裁：
  - 中断源的使能位（clicintie[i]寄存器）必须为1。
  - 中断源的等待标志位（clicintip[i]寄存器）必须为1。
- 从所有参与仲裁的中断源中进行仲裁的规则为：
  - 首先判断级别（Level），Level数字值越大的中断源，其仲裁优先级越高。
  - 如果Level相等，则其次判断优先级（Priority），Priority数字值越大的中断源，其仲裁优先级越高。
  - 如果Level和Priority都相等，则再次判断判断中断ID，中断ID越大的中断源，其仲裁优先级越高。
- 如果最后仲裁出的中断源的Level数字值高于中断目标的阈值级别（mth），则产生最终的中断请求，将通往处理器内核的中断请求信号拉高。

